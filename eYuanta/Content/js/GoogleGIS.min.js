var markerArray=[],googleMap=function(){var t=this,n,u,f,s,e,r,o,h;t.init=function(t){n=new google.maps.Map(document.getElementById(t.objID),{zoom:t.size,center:new google.maps.LatLng(t.Y,t.X),mapTypeId:google.maps.MapTypeId.ROADMAP})};t.mark=function(i,r,f){var e;if(e=i.X!=undefined?new google.maps.LatLng(i.Y,i.X):i.location,u=new google.maps.Marker({lmkId:i.NO,position:e,icon:f,title:i.title,zIndex:1,draggable:i.draggable,map:n}),markerArray.push(u),r!=undefined&&r!=""){switch(typeof r){case"number":google.maps.event.addListener(u,"click",function(){n.setZoom(r);n.setCenter(u.getPosition())});break;case"string":t.winInfo(u,r);break;case"function":t.ClcikOpenWindow(u,r)}return u}};t.marksEdit=function(){};t.clearAssign=function(n){if(n)if(isNaN(n.length))n.setMap(null);else for(i=0;i<n.length;i++)n[i].setMap(null)};t.clearMarker=function(){if(markerArray)for(i in markerArray)markerArray[i].setMap(null)};t.DeleteMarker=function(n){for(var t=0;t<markerArray.length;t++)markerArray[t]==n&&(markerArray[t].setMap(null),markerArray[t].length=0)};f=[];t.line=function(t,i,r,u){var o=i==""?undefined:"#"+i,e=new google.maps.Polyline({clickable:!1,path:r,strokeColor:o,strokeOpacity:1,strokeWeight:isNaN(u)||u==""?4:u});e.setMap(n);f.push(t,e)};t.Deleteline=function(n){for(var t=1;t<f.length;t=t+2)f==n&&f[t].setMap(null)};t.clearline=function(){if(f.length!=0)for(var n=1;n<f.length;n=n+2)f[n].setMap(null);f=[]};t.poly=function(t,i){function f(t){var i=s.getPath(),r;i.push(t.latLng);r=new google.maps.Marker({position:t.latLng,title:"#"+i.getLength(),map:n})}var r=t==""?undefined:"#"+t,u={strokeColor:r,strokeOpacity:1,strokeWeight:isNaN(i)||i==""?4:i};s=new google.maps.Polyline(u);s.setMap(n);google.maps.event.addListener(n,"click",f)};t.GetAllView=function(t,i,r,u){n.fitBounds(new google.maps.LatLngBounds(new google.maps.LatLng(t,i),new google.maps.LatLng(r,u)))};e=[];t.winInfo=function(t,r){for(i=0;i<e.length;i++)e[i].lmkId==t.lmkId&&e.splice(i,1);infowindow=new google.maps.InfoWindow({maxWidth:1e3,lmkId:t.lmkId,size:new google.maps.Size(500,500),content:""});e.push(infowindow);google.maps.event.addListener(t,"click",function(){infowindow.setContent(r);infowindow.open(n,t)})};t.toggleBounce=function(n){n.getAnimation()!=null?n.setAnimation(null):n.setAnimation(google.maps.Animation.BOUNCE)};t.Control=function(t,i,r,u){function e(n){var u,f;n.style.padding="5px";u=document.createElement("div");u.style.backgroundColor="white";u.style.borderStyle="solid";u.style.borderWidth="2px";u.style.cursor="pointer";u.style.textAlign="center";u.id=r?r:"";n.appendChild(u);f=document.createElement("div");f.style.fontFamily="Arial,sans-serif";f.style.fontSize="12px";f.style.paddingLeft="4px";f.style.paddingRight="4px";f.innerHTML=i?i:"<b>Give me Name<\/b>";u.appendChild(f);google.maps.event.addDomListener(u,"click",function(){typeof t=="function"&&t()})}var f=document.createElement("div");switch(u?u:"RIGHT_TOP"){case"TOP_CENTER":n.controls[google.maps.ControlPosition.TOP_CENTER].push(f);break;case"TOP_LEFT":n.controls[google.maps.ControlPosition.TOP_LEFT].push(f);break;case"TOP_RIGHT":n.controls[google.maps.ControlPosition.TOP_RIGHT].push(f);break;case"LEFT_TOP":n.controls[google.maps.ControlPosition.LEFT_TOP].push(f);break;case"RIGHT_TOP":n.controls[google.maps.ControlPosition.RIGHT_TOP].push(f);break;case"LEFT_CENTER":n.controls[google.maps.ControlPosition.LEFT_CENTER].push(f);break;case"RIGHT_CENTER":n.controls[google.maps.ControlPosition.RIGHT_CENTER].push(f);break;case"LEFT_BOTTOM":n.controls[google.maps.ControlPosition.LEFT_BOTTOM].push(f);break;case"RIGHT_BOTTOM":n.controls[google.maps.ControlPosition.RIGHT_BOTTOM].push(f);break;case"BOTTOM_CENTER":n.controls[google.maps.ControlPosition.BOTTOM_CENTER].push(f);break;case"BOTTOM_LEFT":n.controls[google.maps.ControlPosition.BOTTOM_LEFT].push(f);break;case"BOTTOM_RIGHT":n.controls[google.maps.ControlPosition.BOTTOM_RIGHT].push(f)}e(f)};t.rectangle=function(t,i){var u,r;switch(i){case 1:u=new google.maps.LatLngBounds(new google.maps.LatLng(t[0].Y,t[0].X),new google.maps.LatLng(t[1].Y,t[1].X));r=new google.maps.Rectangle({bounds:u,editable:!0});r.setMap(n);break;default:r=new google.maps.Rectangle({strokeColor:"#FF0000",strokeOpacity:.8,strokeWeight:2,fillColor:"#FF0000",fillOpacity:.35,map:n,bounds:new google.maps.LatLngBounds(new google.maps.LatLng(t[0].Y,t[0].X),new google.maps.LatLng(t[1].Y,t[1].X))})}};t.showArrays=function(n){var i=i,r="<b>Bermuda Triangle Polygon<\/b><br />",t,u;for(r+="Clicked Location: <br />"+n.latLng.lat()+","+n.latLng.lng()+"<br />",t=0;t<i.length;t++)u=i.getAt(t),r+="<br />Coordinate: "+t+"<br />"+u.lat()+","+u.lng();infowindow.setContent(r);infowindow.setPosition(n.latLng);infowindow.open(this)};google.maps.event.addDomListener(window,"load",googleMap);r=[];t.PlotKml=function(n){for(var i,t=0;t<n.length;t=t+2)i=new google.maps.KmlLayer(n[t+1]),i.setMap(null),r.push(n[t],i)};t.ChangeKml=function(t,i){for(var u=0;u<r.length;u=u+2)r[u]==t&&(i=="Show"?r[u+1].setMap(n):r[u+1].setMap(null))};t.MultiKml=function(t,i){if(r[i*2+1]==undefined&&(r[i*2]="Show",r[i*2+1]=new google.maps.KmlLayer(t),r[i*2+1].setMap(n),t==""),t=="MultiMode")r[i*2]=="Show"?(r[i*2]="Hide",r[i*2+1].setMap(null)):r[i*2]=="Hide"&&(r[i*2]="Show",r[i*2+1].setMap(n));else if(t=="SingleMode")for(var u=0;u<r.length;u=u+2)u==i*2?r[u]=="Hide"&&(r[u]="Show",r[u+1].setMap(n)):r[u]=="Show"&&(r[u]="Hide",r[u+1].setMap(null))};t.ClearKml=function(){for(var n=1;n<r.length;n=n+2)r[n]!=undefined&&r[n].setMap(null);r=[]};o=new google.maps.InfoWindow;t.OpenInfo=function(i,r,u){o.setContent(r);o.open(n,i);u&&google.maps.event.addListenerOnce(o,"closeclick",function(){t.ChangeMark([i],"Hide")})};t.CloseInfo=function(){o.close()};t.SingleMark=function(t,i){var r;return r=t.X!=undefined?new google.maps.LatLng(t.Y,t.X):t.location,u=new google.maps.Marker({lmkId:t.NO,position:r,icon:i,title:t.title,zIndex:t.zIndex==undefined?1:t.zIndex,cursor:t.Cursor,animation:t.animation,map:n})};t.ChangeMark=function(t,r){if(t)if(r=="Show")for(i in t)t[i].setMap(n);else if(r=="Hide")for(i in t)t[i].setMap(null),google.maps.event.clearListeners(t[i],"click")};t.ReSizeMap=function(){var t=n.center;google.maps.event.trigger(n,"resize");n.setCenter(t)};t.ClickOpenWindow=function(n,t){google.maps.event.addListener(n,"click",t)};t.MapRightClick=function(t){google.maps.event.addListener(n,"rightclick",t)};t.ChangeCenter=function(t){var i;i=t.X!=undefined?new google.maps.LatLng(t.Y,t.X):t.Location;n.setCenter(i)};t.ChangeZoom=function(t){n.setZoom(t)};h=!1;t.codeAddress=function(n,t){var i,r;n&&(h!=!0&&(geocoder=new google.maps.Geocoder,h=!0),/[\,]/.test(n)==!0?i=n.split(/[\,]/):/[\s]/.test(n)==!0&&(i=n.split(/[\s]/)),i?/[^\-?\d.]/.test($.trim(i[0]))==!1&&/[^\-?\d.]/.test($.trim(i[1]))==!1?(n=new google.maps.LatLng($.trim(i[0]),$.trim(i[1])),r={location:n}):r={address:n}:r={address:n},geocoder.geocode(r,function(n,i){i==google.maps.GeocoderStatus.OK&&typeof t=="function"&&t(n)}))}};